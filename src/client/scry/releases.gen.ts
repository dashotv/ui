// Code generated by github.com/dashotv/golem. DO NOT EDIT.
import { Response, scryClient } from '.';
import * as search from './search';

export interface ReleasesIndexRequest {
  start: number;
  limit: number;
  type: string;
  text: string;
  year: number;
  season: number;
  episode: number;
  group: string;
  author: string;
  resolution: number;
  source: string;
  uncensored: boolean;
  bluray: boolean;
  verified: boolean;
  exact: boolean;
}
export interface ReleasesIndexResponse extends Response {
  result: search.ReleaseSearchResponse;
  total: number;
}
export const ReleasesIndex = async (params: ReleasesIndexRequest) => {
  const response = await scryClient.get(
    `/releases/?start=${params.start}&limit=${params.limit}&type=${params.type}&text=${params.text}&year=${params.year}&season=${params.season}&episode=${params.episode}&group=${params.group}&author=${params.author}&resolution=${params.resolution}&source=${params.source}&uncensored=${params.uncensored}&bluray=${params.bluray}&verified=${params.verified}&exact=${params.exact}`,
  );

  if (!response.data) {
    throw new Error('response empty?');
  }

  if (response.data.error) {
    if (response.data.message) {
      throw new Error(response.data.message);
    }
    throw new Error('unknown error');
  }

  return response.data as ReleasesIndexResponse;
};
